/* 3×3 сетка, центр по странице */
.gallery {
    max-width: 1200px;
    margin: 32px auto;
    padding: 0;
    list-style: none;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-auto-rows: 260px;
    gap: 16px;
  }
  .gallery-item {
    overflow: hidden;
    box-shadow: 0 4px 14px rgba(0,0,0,.1);
    transition: transform .18s ease, box-shadow .18s ease;
  }
  .gallery-item:hover { transform: translateY(-2px); box-shadow: 0 8px 22px rgba(0,0,0,.12); }
  .gallery-link { display:block; height:100%; }
  .gallery-image { width: 100%; height: 100%; object-fit: cover; display:block; }
  
  /* ======= Viewer з білим затемненням ======= */
  .viewer {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 999;
    background: rgba(255,255,255,0);      /* старт: прозрачно */
    transition: background .25s ease;     /* плавное появление белого фона */
  }
  .viewer.open {
    display: flex;
    background: rgba(255,255,255,0.75);   /* цель: белое затемнение */
  }
  
  /* картинка */
  .viewer__img-wrap {
    position: relative;
    max-width: 90vw;
    max-height: 86vh;
  }
  .viewer__img {
    max-width: 90vw;
    max-height: 86vh;
    display: block;
    box-shadow: 0 8px 30px rgba(0,0,0,.25);
    transition: transform .35s ease, opacity .35s ease;
  }
  
  /* классы анимации (направления) */
  .enter-right { transform: translateX(40px);  opacity: 0; }  /* вьезд СПРАВА -> центр */
  .enter-left  { transform: translateX(-40px); opacity: 0; }  /* вьезд СЛЕВА  -> центр */
  .centered    { transform: translateX(0);     opacity: 1; }
  .leave-left  { transform: translateX(-40px); opacity: 0; }  /* уезд в ЛЕВО */
  .leave-right { transform: translateX(40px);  opacity: 0; }  /* уезд в ПРАВО */
  
  /* счетчик / крестик */
  .viewer__counter, .viewer__close {
    position: fixed; top: 16px; font-weight: 600; z-index: 1000; user-select: none;
  }
  .viewer__counter { left: 16px; font-size: 18px; }
  .viewer__close   { right: 20px; font-size: 28px; line-height: 1; cursor: pointer; background: transparent; border: 0; }
  
  /* стрелки */
  .viewer__nav {
    position: fixed; inset: 0;
    display:flex; align-items:center; justify-content:space-between;
  }
  .viewer__btn {
    border: none; background: transparent; cursor: pointer;
    font-size: 34px; padding: 24px; line-height: 1; color: #111;
    transition: transform .15s ease, opacity .15s ease; opacity: .9;
  }
  .viewer__btn:hover { transform: scale(1.08); opacity: 1; }
  
  /* блокируем прокрутку страницы при открытом viewer */
  body.viewer-lock { overflow: hidden; }
  
  @media (max-width: 900px) { .gallery { grid-auto-rows: 200px; } }
  @media (max-width: 640px) { .gallery { grid-template-columns: repeat(2, 1fr); grid-auto-rows: 180px; } }
  
  /* --- Fade-in при відкритті в'ювера --- */
@keyframes viewerFadeIn {
    from { opacity: 0; transform: translateX(0) scale(0.985); }
    to   { opacity: 1; transform: translateX(0) scale(1); }
  }
  .viewer__img.fade-in {
    animation: viewerFadeIn .28s ease both;
  }
 
/* --- Fade-out при закритті в'ювера --- */
@keyframes viewerFadeOut {
    from { opacity: 1; transform: translateX(0) scale(1); }
    to   { opacity: 0; transform: translateX(0) scale(0.985); }
  }
  .viewer__img.fade-out {
    animation: viewerFadeOut .22s ease both;
  }